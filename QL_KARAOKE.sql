Create database QL_KARAOKE

CREATE TABLE NHANVIEN
(
	MANV VARCHAR(10) NOT NULL,
	TENNV NVARCHAR(50),
	NGAYSINH VARCHAR(20),
	CONSTRAINT PK_MANV PRIMARY KEY(MANV),
	CONSTRAINT UNI_TENNV UNIQUE(TENNV)
)
GO

CREATE TABLE PHONG
(
	MAPHONG VARCHAR(10) NOT NULL,
	TENPHONG NVARCHAR(20) NOT NULL,
	MALP int,
	DONGIA INT,

	CONSTRAINT PK_MAPHONG PRIMARY KEY(MAPHONG),
	CONSTRAINT FK_LP FOREIGN KEY(MALP) REFERENCES LOAIPHONG(MALP),
	CONSTRAINT UNI_TENPHONG UNIQUE(TENPHONG),
)
GO


CREATE TABLE KHACHHANG
(
	MAKH CHAR(10) NOT NULL,
	TENKH NVARCHAR(50),
	DIACHI NVARCHAR(30) NOT NULL,
	SDT CHAR(11) NOT NULL,
	CONSTRAINT PK_MAKH PRIMARY KEY(MAKH),
	
)
GO

CREATE TABLE LOAIPHONG
(
	MALP int NOT NULL,
	TENLP NVARCHAR(50),
	
	CONSTRAINT PK_LOAIPHONG PRIMARY KEY(MALP),

)
GO



CREATE TABLE [dbo].[taikhoan]
(
	username nvarchar(50) PRIMARY Key,
	[password] nvarchar(50) NULL,
	MANV VARCHAR(10) NULL,
	isAdmin int NULL,
	CONSTRAINT FK_tk_NV FOREIGN KEY(MANV) REFERENCES NHANVIEN(MANV),
 
)

CREATE TABLE [dbo].[HOADON]
(
	MAHD Char(5)  primary key NOT NULL,
	MAPHONG VARCHAR(10) NULL,	
	MANV VARCHAR(10) NULL,
	MAKH CHAR(10),
	THOIGIAN int  NULL,
	THANHTIEN int NULL,
	CONSTRAINT FK_HD_PHONG FOREIGN KEY(MAPHONG) REFERENCES PHONG(MAPHONG),
	CONSTRAINT FK_HD_NV FOREIGN KEY(MANV) REFERENCES NHANVIEN(MANV),
	CONSTRAINT FK_HD_KH FOREIGN KEY(MAKH) REFERENCES KHACHHANG(MAKH),
	
 )


INSERT [dbo].[taikhoan] (username, [password], MANV, isAdmin) VALUES (N'admin', N'123','NV000', 0)
INSERT [dbo].[taikhoan] (username, [password], MANV, isAdmin) VALUES (N'staff', N'123','NV004' , 1)


SET DATEFORMAT DMY
INSERT INTO NHANVIEN VALUES('NV000',N'PHƯỚC YẾN','22/10/2002')
INSERT INTO NHANVIEN VALUES('NV004',N'PHƯƠNG UYÊN','19/10/2002')
INSERT INTO NHANVIEN VALUES('NV005',N'NGỌC MY','25/06/2002')
INSERT INTO NHANVIEN VALUES('NV006',N'THIÊN ÂN','04/05/2002')
INSERT INTO NHANVIEN VALUES('NV007',N'THÀNH PHÚ','08/10/2002')
INSERT INTO NHANVIEN VALUES('NV008',N'XUÂN TUÁN','01/07/2002')
INSERT INTO NHANVIEN VALUES('NV009',N'CHÍ HUÂN','22/11/2002')
GO

INSERT INTO LOAIPHONG VALUES(0,N'Thường')
INSERT INTO LOAIPHONG VALUES(1,N'Vip')

INSERT INTO PHONG VALUES('P01',N'Phòng 1',0,50000)
INSERT INTO PHONG VALUES('P02',N'Phòng 2',0,50000)
INSERT INTO PHONG VALUES('P03',N'Phòng 3',0,80000)
INSERT INTO PHONG VALUES('P04',N'Phòng 4',1,740000)
INSERT INTO PHONG VALUES('P05',N'Phòng 5',1,320000)
INSERT INTO PHONG VALUES('P06',N'Phòng 6',1,410000)

INSERT INTO KHACHHANG VALUES('KH000',N'Hồng Tri Tú',N'TP.HCM','0925644782')
INSERT INTO KHACHHANG VALUES('KH004',N'Đặng Trường Xuân',N'Nha Trang','0531478935')
INSERT INTO KHACHHANG VALUES('KH005',N'Tôn Thế Vũ',N'Hà Nội','0421533987')
INSERT INTO KHACHHANG VALUES('KH006',N'Lê Chí Hùng',N'Đà Nẵng','0132548967')
INSERT INTO KHACHHANG VALUES('KH007',N'Nguyễn Văn Toàn',N'TP.HCM','0427878642')
INSERT INTO KHACHHANG VALUES('KH008',N'Trịnh Tuấn',N'Bắc Ninh','0135796482')

INSERT INTO HOADON VALUES('HD01','P01','NV004','KH006',5,250000)
INSERT INTO HOADON VALUES('HD02','P02','NV004','KH005',4,1360000)
INSERT INTO HOADON VALUES('HD03','P01','NV004','KH008',2,820000)